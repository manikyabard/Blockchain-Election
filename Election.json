{
    "ApplicationName": "Election",
    "DisplayName": "Election",
    "Description": "Allows voters to vote securely for the candidate of their choice.",
    "ApplicationRoles": [
      {
        "Name": "ElectionCommission",
        "Description": "Organisation which administers the election process."
      },
      {
        "Name": "Voter",
        "Description": "User who can vote."
      }
    ],
    "Workflows": [
      {
        "Name": "Election",
        "DisplayName": "Election",
        "Description": "Handles the Voting process",
        "Initiators": [ "ElectionCommission" ],
        "StartState":  "Voting",
        "Properties": [
          {
            "Name": "State",
            "DisplayName": "State",
            "Description": "Holds the state of the contract",
            "Type": {
              "Name": "state"
            }
          },
          {
            "Name": "candidatesCount",
            "DisplayName": "Candidates Count",
            "Type": {
              "Name": "int"
            }
          },
          {
            "Name": "winner",
            "DisplayName": "Winner",
            "Type": {
              "Name": "string"
            }
          },
          {
            "Name": "_name",
            "DisplayName": "Candidate name",
            "Type": {
              "Name": "string"
            }
          },
          {
            "Name": "_candidateId",
            "DisplayName": "Candidate ID",
            "Type": {
              "Name": "int"
            }
          }
        ],
        "Constructor": {
          "Parameters": []
        },
        "Functions": [
          {
            "Name": "addCandidate",
            "DisplayName": "Add Candidate",
            "Description": "Add a Candidate contesting for the Election",
            "Parameters": [
              {
                "Name": "_name",
                "Description": "Name of the Candidate",
                "DisplayName": "Name",
                "Type": {
                  "Name": "string"
                }
              }
            ]
          },
          {
            "Name": "vote",
            "DisplayName": "Vote",
            "Description": "Vote for a particular candidate",
            "Parameters": [{
                "Name": "_candidateId",
                "Description": "Id of the Candidate",
                "DisplayName": "Candidate ID",
                "Type": {
                  "Name": "int"
                }
              }
            ]
          },
          {
            "Name": "res_calc",
            "DisplayName": "Calculate Results",
            "Description": "Shows who won the election",
            "Parameters": []
          }
        ],
        "States": [
          {
            "Name": "Voting",
            "DisplayName": "Voting",
            "Description": "Voting allowed",
            "PercentComplete": 40,
            "Style": "Success",
            "Transitions": [{
              "AllowedRoles": ["ElectionCommission"],
              "DisplayName": "Results",
              "Function": "res_calc",
              "NextStates": ["Result"]
            }]
          },
          {
            "Name": "Result",
            "DisplayName": "Results",
            "Description": "See the Results",
            "PercentComplete": 100,
            "Style": "Success",
            "Transitions": []
          }
        ]
      }
    ]   
  }